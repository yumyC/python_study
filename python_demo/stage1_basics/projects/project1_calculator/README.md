# 项目1: 计算器

## 项目简介

这是一个功能完整的命令行计算器程序，支持基本四则运算和高级数学运算。

## 功能特性

- ✅ 基本运算：加、减、乘、除
- ✅ 高级运算：幂运算、平方根、百分比
- ✅ 历史记录：保存和查看计算历史
- ✅ 错误处理：处理除零、负数平方根等错误
- ✅ 用户友好：清晰的菜单和提示

## 运行说明

### 前置要求

- Python 3.6 或更高版本

### 运行程序

```bash
python calculator.py
```

### 使用方法

1. 运行程序后，会显示菜单
2. 输入数字 0-9 选择操作
3. 根据提示输入数字进行计算
4. 查看历史记录或清空历史
5. 输入 0 退出程序

## 示例操作

```
欢迎使用计算器！

========================================
计算器菜单
========================================
1. 加法 (+)
2. 减法 (-)
3. 乘法 (×)
4. 除法 (÷)
5. 幂运算 (^)
6. 平方根 (√)
7. 百分比 (%)
8. 查看历史记录
9. 清空历史记录
0. 退出
========================================
请选择操作 (0-9): 1
请输入第一个数: 10
请输入第二个数: 5
结果: 10.0 + 5.0 = 15.0
```

## 代码结构

```
project1_calculator/
├── calculator.py    # 主程序文件
└── README.md        # 项目说明文档
```

## 核心代码说明

### Calculator 类

```python
class Calculator:
    def __init__(self):
        self.history = []  # 存储历史记录
    
    def add(self, a, b):
        # 加法运算
        pass
    
    def divide(self, a, b):
        # 除法运算，包含除零检查
        if b == 0:
            raise ValueError("除数不能为零")
        pass
```

### 错误处理

程序使用 try-except 块处理各种错误：
- `ValueError`: 无效输入、除零、负数平方根
- `Exception`: 其他未预期的错误

### 历史记录

每次计算都会自动保存到历史记录中，可以随时查看或清空。

## 学习要点

### 1. 面向对象编程
- 使用类封装计算器功能
- 实例属性存储历史记录
- 方法实现各种运算

### 2. 异常处理
- 使用 try-except 捕获异常
- 自定义错误消息
- 防止程序崩溃

### 3. 用户交互
- 使用 input() 获取用户输入
- 输入验证和类型转换
- 清晰的提示信息

### 4. 函数设计
- 单一职责原则
- 辅助函数提高代码可读性
- 主函数控制程序流程

## 扩展练习

### 初级扩展
1. 添加更多运算：阶乘、对数、三角函数
2. 支持连续计算（使用上次结果）
3. 添加内存功能（M+, M-, MR, MC）

### 中级扩展
1. 支持表达式计算（如 "2 + 3 * 4"）
2. 将历史记录保存到文件
3. 添加单位转换功能

### 高级扩展
1. 实现图形界面（使用 tkinter）
2. 支持复数运算
3. 添加科学计算功能

## 常见问题

### Q: 如何退出程序？
A: 在菜单中输入 0

### Q: 历史记录会保存吗？
A: 当前版本的历史记录只在程序运行期间保存，退出后会清空

### Q: 可以计算小数吗？
A: 可以，程序支持浮点数运算

### Q: 除以零会怎样？
A: 程序会捕获错误并显示提示信息，不会崩溃

## 相关知识点

- 类和对象
- 异常处理
- 用户输入处理
- 列表操作
- 字符串格式化
- 条件语句
- 循环控制

## 下一步

完成这个项目后，可以继续学习：
- [项目2: 待办事项列表](../project2_todo_list/)
- [项目3: 文件管理器](../project3_file_manager/)
